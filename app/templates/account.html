<header>
  <a href='#/inbox'><h1>Flybox</h1></a>
  <p data-ng-model='username'>Hello {{username}}</p>
  <button data-ng-click='logOut()'>Log out</button>
</header>

<main>
  <div data-ng-model='user'>
    <h2>Flybox Account</h2>

    <h3>Login</h3>
    <p>Username: {{user.email}}<button>Change#####</button></p>
    <p>Password: ********<button>Change#####</button></p>

    <h3>Display Name#####</h3>
    <p data-ng-show='!editname'>{{user.displayName}}</p>
    <input data-ng-show='editname' data-ng-model='user.newName'/>
    <button data-ng-click='editname=!editname'>{{editname ? 'Save':'Change'}}</button>

    <h3>Email Accounts</h3>
    <div data-ng-repeat='smtp in user.smtps'>
      <h4>{{smtp.username}}</h4>
      <p>Username:</p>
      <p data-ng-show='!smtp.editing'>{{smtp.username}}</p>
      <input data-ng-show='smtp.editing' data-ng-model='smtp.username'/>
      <br>
      <p>Password:</p>
      <p data-ng-show='!smtp.editing'>{{smtp.password}}</p>
      <input data-ng-show='smtp.editing' data-ng-model='smtp.password'>
      <br>
      <div data-ng-show='smtp.editing || smtp.service'>
        <p>Service:</p>
        <p data-ng-show='!smtp.editing'>{{smtp.service}}</p>
        <input data-ng-show='smtp.editing' data-ng-model='smtp.service'>
        <br>
      </div>
      <div data-ng-show='smtp.editing || !smtp.service'>
        <p>Host:</p>
        <p data-ng-show='!smtp.editing'>{{smtp.host}}</p>
        <input data-ng-show='smtp.editing' data-ng-model='smtp.host'>
        <br>
        <p>Port:</p>
        <p data-ng-show='!smtp.editing'>{{smtp.port}}</p>
        <input data-ng-show='smtp.editing' data-ng-model='smtp.port' type='Number'>
        <br>
        <p>Secure:</p>
        <p data-ng-show='!smtp.editing'>{{smtp.secureConnection}}</p>
        <input data-ng-show='smtp.editing' data-ng-model='smtp.secureConnection' type='checkbox'>
        <br>
      </div>
      <button data-ng-show='smtp.editing' data-ng-click='edit(smtp)'>Save</button>
      <button data-ng-click='smtp.editing=!smtp.editing'>{{smtp.editing ? 'Cancel':'Edit'}}</button>
      <button data-ng-click='delete(smtp)'>Delete</button>
    </div>

    <p data-ng-show='!adding'>{{user.smtps ? 'Expand your Flybox, add another account':'You have no email accounts set up'}}</p>
    <div data-ng-show='adding'>
      <p>Please enter your login information</p>
      <p>Username:</p>
      <input data-ng-model='newSmtp.username'>
      <br>
      <p>Password:</p>
      <input data-ng-model='newSmtp.password'>
      <br>
      <p>and fill in either</p>
      <p>Service:</p>
      <a href='http://adilapapaya.com/docs/nodemailer/#wellknownservicesforsmtp'>list of acceptable services</a>
      <br>
      <input data-ng-model='newSmtp.service'>
      <br>
      <p>or</p>
      <p>Host:</p>
      <input data-ng-model='newSmtp.host'>
      <br>
      <p>Secure:</p>
      <input type='checkbox' data-ng-model='newSmtp.secureConnection'>
      <br>
      <p>Port:</p>
      <input type='Number' data-ng-model='newSmtp.port'>
      <br>
    </div>

    <button data-ng-show='adding' data-ng-click='add()'>Save</button>
    <button data-ng-click='adding=!adding'>{{adding ? 'Cancel':'Add'}}</button>
  </div>
</main>